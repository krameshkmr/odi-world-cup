---
title: "A Predictive Model for ODI World Cup Matches"
author: "Krishna Kumar, Srihari Srinivasan"
date: "APR 30, 2023"
output:
  pdf_document: default
---

```{r setup, include=FALSE}
library(tidyverse)
library(knitr)
library(tinytex)
library(cricketdata)
library(leaps)

knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(message = FALSE)
knitr::opts_chunk$set(warning = FALSE)
knitr::opts_chunk$set(out.width = "60%")
#knitr::opts_chunk$set(fig.align = "center")
```

## Introduction

Given that this is a One Day International (ODI) World Cup year, our analysis of batting and bowling performance metrics on the margin of victory, `mov`, is focused on prior World Cup matches. With knowledge of how the ODI format has changed since the introduction of the shorter, Twenty20 (T20) format, particularly the 2007 T20 World Cup, we have limited our data to the last five ODI World Cups (2003, 2007, 2011, 2015, and 2019). After wrangling ten batting metrics and four bowling metrics from 4774 individual player performances, we are looking to build a predictive model and gain insight as to which metrics, if any, have an effect on `mov`. In doing so, while this may be beyond the scope of this project, we hope to ultimately use our model to predict the outcome of the 2023 ODI World Cup.

## Exploratory Analysis

```{r, echo=FALSE}
odi <- read.csv("~/Downloads/odi.csv")
odi$date <- as.Date(odi$date)
odi$date <- format(odi$date, "%Y")
odi <- rename(odi, year = date)
```

### Response Variable

`mov` is the difference between the target set by the team batting first and the total that the chasing team achieved. For example, in a 2003 match between England and Pakistan, England scored 246 runs, setting 247 as the target for Pakistan to chase. They, however, were bowled out for 134, resulting in England winning by 112 runs. Therefore, the `mov` for this match is calculated as $winner\_margin / target = 112 / 247 = 0.453$.\

The figure below is a boxplot of `mov` values.\

```{r, echo=FALSE}
odi %>% ggplot(aes(x = mov)) + 
        geom_boxplot(fill = "skyblue", color = "black") + 
        labs(x = "Margin of Victory") + 
        theme_bw()

summary(odi$mov)
```

From the figure and summary, we can see that `mov` is approximately normally distributed on 7.1%. The single outlier is a 2011 match between Kenya and New Zealand in which Kenya lost by 84.0%. While large `mov` values can be attributed to a blowout, the extreme values probably occurred due to a wide skill gap between two teams. New Zealand, for example, is an established cricketing nation with a strong, experienced team compared to Kenya.

## Model Development

## Model Analysis

## Conclusion
